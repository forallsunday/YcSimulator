目前将主控代码扔进仿真模型中，对报错的部分进行替换后，现在能正常编译过不报错。
但是还有如下问题：
1. 模拟的fpga单独为一个类，内部是周期5ms的定时器中断一下。fpga读写，比如电源、框架角等等，我想直接对相关结构体赋值，但是这些值怎么给，感觉不是很理解
2. 速度位置信号，通过gpio读取，现不存在伺服，这个地方怎么仿，是通过计时的方式还是从计算结果推呢
3. 对不同拍照模式的计算，输入输出这些，感觉要大致跟我讲一下，后续还要写到共享内存这一路
4. 感觉work_control这个函数还是得过一遍，过的过程中可以看看调光框架图像处理这些分系统的流程和消息读写要怎么实现

要不看看周一下午或晚上有没有时间，我把代码投屏上，一起讨论一下